(()=>{"use strict";var n={402:(n,e,t)=>{t.d(e,{Z:()=>s});var r=t(537),a=t.n(r),o=t(645),i=t.n(o)()(a());i.push([n.id,":root {\n    box-sizing: border-box;\n    font-size: 62.5%;\n}\n\nbody {\n    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n    margin: 0;\n}\n\nimg {\n    width: 100%;\n}\n\nh1 {\n    margin: 0;\n}\n\np,input,span{\n    font-size: 2rem !important;\n}\n\n.containerInfo {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding-bottom: 2rem;\n}\n\n.inputName {\n    all : unset;\n    background-color: #D9D9D9;\n    padding: 1rem;\n}\n\n.title {\n    background-color: #D9D9D9;\n    text-align: center;\n    font-size: 2.4rem;\n    padding: 2rem;\n    text-transform: uppercase;\n}\n\n.main {\n    display: grid;\n    grid-template-columns: repeat(2,1fr);\n    place-items: start center;\n}\n\n.playerName {\n    text-align: center;\n    padding-bottom: 2rem;\n}\n\n.row {\n    display: grid;\n    grid-template-columns: repeat(10,1fr);\n}\n\n.letter {\n    position: absolute;\n    top: -2.5rem;\n    right: 35%;\n}\n\n.number {\n    position: absolute;\n    bottom: .5rem;\n    left: -80%;\n}\n\n.cell {\n    width: 40px;\n    height: 40px;\n    border: 1px solid black;\n    position: relative;\n}\n.log {\n    width: 60rem;\n    background-color: #D9D9D9;\n    font-size: 2.2rem;\n    margin : 4rem auto;\n    padding: 1rem;\n    text-align: center;\n    border : 1px solid black;\n}\n\n.busy {\n    background-color: rgba(255, 208, 248, 0.6);\n    border: 1px solid #C521FF;\n}\n\n.position {\n    background-color: rgba(65, 164, 69,0.6);\n    border: 1px solid #109E0D;\n}\n\n.sunk {\n    background-color: rgba(249, 104, 23, 0.3);\n    border: 1px solid #F96817;\n}\n\n.visited {\n    background-color: rgba(140, 131, 242, 0.6);\n    border : 1px solid #2521FF;\n}\n\n.btnContainer {\n    display: flex;\n    justify-content: center;\n}\n\n.btn {\n    padding: .5rem 2rem;\n    font-size: 2.2rem;\n    background-color: #D9D9D9;\n    cursor: pointer;\n    border : 1px solid black;\n}\n\n.elementContainer {\n    margin : 2rem auto;\n    width: 45rem;\n    display: flex;\n    justify-content: center;\n    gap: 2rem;\n    padding-right: 4rem;\n}\n\n\n.op-4 {\n    opacity: .4;\n}","",{version:3,sources:["webpack://./src/css/style.css"],names:[],mappings:"AAAA;IACI,sBAAsB;IACtB,gBAAgB;AACpB;;AAEA;IACI,mJAAmJ;IACnJ,SAAS;AACb;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,SAAS;AACb;;AAEA;IACI,0BAA0B;AAC9B;;AAEA;IACI,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,oBAAoB;AACxB;;AAEA;IACI,WAAW;IACX,yBAAyB;IACzB,aAAa;AACjB;;AAEA;IACI,yBAAyB;IACzB,kBAAkB;IAClB,iBAAiB;IACjB,aAAa;IACb,yBAAyB;AAC7B;;AAEA;IACI,aAAa;IACb,oCAAoC;IACpC,yBAAyB;AAC7B;;AAEA;IACI,kBAAkB;IAClB,oBAAoB;AACxB;;AAEA;IACI,aAAa;IACb,qCAAqC;AACzC;;AAEA;IACI,kBAAkB;IAClB,YAAY;IACZ,UAAU;AACd;;AAEA;IACI,kBAAkB;IAClB,aAAa;IACb,UAAU;AACd;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,uBAAuB;IACvB,kBAAkB;AACtB;AACA;IACI,YAAY;IACZ,yBAAyB;IACzB,iBAAiB;IACjB,kBAAkB;IAClB,aAAa;IACb,kBAAkB;IAClB,wBAAwB;AAC5B;;AAEA;IACI,0CAA0C;IAC1C,yBAAyB;AAC7B;;AAEA;IACI,uCAAuC;IACvC,yBAAyB;AAC7B;;AAEA;IACI,yCAAyC;IACzC,yBAAyB;AAC7B;;AAEA;IACI,0CAA0C;IAC1C,0BAA0B;AAC9B;;AAEA;IACI,aAAa;IACb,uBAAuB;AAC3B;;AAEA;IACI,mBAAmB;IACnB,iBAAiB;IACjB,yBAAyB;IACzB,eAAe;IACf,wBAAwB;AAC5B;;AAEA;IACI,kBAAkB;IAClB,YAAY;IACZ,aAAa;IACb,uBAAuB;IACvB,SAAS;IACT,mBAAmB;AACvB;;;AAGA;IACI,WAAW;AACf",sourcesContent:[":root {\n    box-sizing: border-box;\n    font-size: 62.5%;\n}\n\nbody {\n    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n    margin: 0;\n}\n\nimg {\n    width: 100%;\n}\n\nh1 {\n    margin: 0;\n}\n\np,input,span{\n    font-size: 2rem !important;\n}\n\n.containerInfo {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding-bottom: 2rem;\n}\n\n.inputName {\n    all : unset;\n    background-color: #D9D9D9;\n    padding: 1rem;\n}\n\n.title {\n    background-color: #D9D9D9;\n    text-align: center;\n    font-size: 2.4rem;\n    padding: 2rem;\n    text-transform: uppercase;\n}\n\n.main {\n    display: grid;\n    grid-template-columns: repeat(2,1fr);\n    place-items: start center;\n}\n\n.playerName {\n    text-align: center;\n    padding-bottom: 2rem;\n}\n\n.row {\n    display: grid;\n    grid-template-columns: repeat(10,1fr);\n}\n\n.letter {\n    position: absolute;\n    top: -2.5rem;\n    right: 35%;\n}\n\n.number {\n    position: absolute;\n    bottom: .5rem;\n    left: -80%;\n}\n\n.cell {\n    width: 40px;\n    height: 40px;\n    border: 1px solid black;\n    position: relative;\n}\n.log {\n    width: 60rem;\n    background-color: #D9D9D9;\n    font-size: 2.2rem;\n    margin : 4rem auto;\n    padding: 1rem;\n    text-align: center;\n    border : 1px solid black;\n}\n\n.busy {\n    background-color: rgba(255, 208, 248, 0.6);\n    border: 1px solid #C521FF;\n}\n\n.position {\n    background-color: rgba(65, 164, 69,0.6);\n    border: 1px solid #109E0D;\n}\n\n.sunk {\n    background-color: rgba(249, 104, 23, 0.3);\n    border: 1px solid #F96817;\n}\n\n.visited {\n    background-color: rgba(140, 131, 242, 0.6);\n    border : 1px solid #2521FF;\n}\n\n.btnContainer {\n    display: flex;\n    justify-content: center;\n}\n\n.btn {\n    padding: .5rem 2rem;\n    font-size: 2.2rem;\n    background-color: #D9D9D9;\n    cursor: pointer;\n    border : 1px solid black;\n}\n\n.elementContainer {\n    margin : 2rem auto;\n    width: 45rem;\n    display: flex;\n    justify-content: center;\n    gap: 2rem;\n    padding-right: 4rem;\n}\n\n\n.op-4 {\n    opacity: .4;\n}"],sourceRoot:""}]);const s=i},645:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,a,o){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var A=this[s][0];null!=A&&(i[A]=!0)}for(var d=0;d<n.length;d++){var c=[].concat(n[d]);r&&i[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),a&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=a):c[4]="".concat(a)),e.push(c))}},e}},537:n=>{n.exports=function(n){var e=n[1],t=n[3];if(!t)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(a," */");return[e].concat([o]).join("\n")}return[e].join("\n")}},379:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var o={},i=[],s=0;s<n.length;s++){var A=n[s],d=r.base?A[0]+r.base:A[0],c=o[d]||0,l="".concat(d," ").concat(c);o[d]=c+1;var p=t(l),u={css:A[1],media:A[2],sourceMap:A[3],supports:A[4],layer:A[5]};if(-1!==p)e[p].references++,e[p].updater(u);else{var m=a(u,r);r.byIndex=s,e.splice(s,0,{identifier:l,updater:m,references:1})}i.push(l)}return i}function a(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,a){var o=r(n=n||[],a=a||{});return function(n){n=n||[];for(var i=0;i<o.length;i++){var s=t(o[i]);e[s].references--}for(var A=r(n,a),d=0;d<o.length;d++){var c=t(o[d]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}o=A}}},569:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},565:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},795:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function t(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={id:r,exports:{}};return n[r](o,o.exports,t),o.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0,(()=>{var n=t(379),e=t.n(n),r=t(795),a=t.n(r),o=t(569),i=t.n(o),s=t(565),A=t.n(s),d=t(216),c=t.n(d),l=t(589),p=t.n(l),u=t(402),m={};m.styleTagTransform=p(),m.setAttributes=A(),m.insert=i().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=c(),e()(u.Z,m),u.Z&&u.Z.locals&&u.Z.locals;const b=(n,e)=>{const t=document.createElement(n);return e&&(t.className=e),t},C=n=>document.querySelector(n),f=["A","B","C","D","E","F","G","H","I","J"],g=n=>{const e=b("div","board");for(let t=0;t<n.length;t+=1){const r=b("div","row");for(let e=0;e<n[t].length;e+=1){const a=b("div","cell");if(n[t][e].shipInformation&&n[t][e].shipInformation.isSunk()&&a.classList.add("sunk"),n[t][e].visited&&a.classList.add("visited"),a.dataset.x=[t],a.dataset.y=[e],r.append(a),0===t){const n=b("span","letter");n.textContent=f[e],a.appendChild(n)}if(0===e){const n=b("span","number");n.textContent=t+1,a.appendChild(n)}}e.append(r)}return e},y=b,B=(n,e)=>{const t=b("div","btnContainer"),r=b("button",`btn ${e}`);return r.textContent=n,t.append(r),t},I=g,h=n=>{const e=b("section",n.player.getName()),t=b("p","playerName");t.textContent=`${n.player.getName()}`;const r=g(n.board.getBoard());r.id=n.player.getName(),e.append(t,r);const a=C(`section.${n.player.getName()}`);if(!a)return e;a.replaceWith(e)},v=C,x=n=>document.querySelectorAll(n),k=()=>[Math.floor(10*Math.random()),Math.floor(10*Math.random())],E=n=>{const e=y("div","root"),t=y("h1","title");t.textContent="Battleship";const r=h(n.playerOne),a=h(n.playerTwo);a.classList.add("op-4");const o=y("main","main");o.append(r,a);const i=y("div","elementContainer"),s=B("Randomise","btnRandomise"),A=B("Reset","btnReset"),d=y("div","dragableElement");d.draggable=!0;const c=y("div","cell busy");d.append(c),i.append(s,d,A);const l=B("Start","btnStart"),p=[i,l];e.append(t,o,...p),document.body.appendChild(e);const u=()=>{x(".board:not(#CPU) .row .cell").forEach((n=>{n.addEventListener("dragover",(n=>{n.preventDefault(),n.currentTarget.classList.add("position")})),n.addEventListener("dragleave",(n=>{n.preventDefault(),n.currentTarget.classList.remove("position")})),n.addEventListener("drop",(n=>{n.preventDefault(),n.currentTarget.classList.add("busy"),n.currentTarget.classList.remove("position")}))}))},m=n=>{let e=".board#CPU";n&&(e=".board:not(#CPU)");const t=x(`${e} .row .cell`),r=n=>{let[e,r]=k();for(;e>n;)[e,r]=k();const a=Array.from({length:n},((n,t)=>[e+t,r])),o=Array.from(t).forEach((n=>{const e=[Number(n.dataset.x),Number(n.dataset.y)];a.some((n=>JSON.stringify(n)===JSON.stringify(e)))&&n.classList.add("busy")}));return o},a=(n,e)=>{for(let t=0;t<n;t+=1)r(e)};a(1,4),a(2,3),a(3,2),a(4,1)},b=()=>{const e=v(".board:not(#CPU)"),t=I(n.playerOne.board.getBoard());e.innerHTML=t.innerHTML,u()},C=n=>{let e=".board#CPU";n&&(e=".board:not(#CPU)");const t=x(`${e} .row .cell`),r=Array.from(t).filter((n=>n.classList.contains("busy"))).map((n=>[Number(n.dataset.x),Number(n.dataset.y)]));return r};return u(),d.addEventListener("dragstart",(()=>{})),s.addEventListener("click",(()=>{b(),m(!0)})),A.addEventListener("click",b),{bindStartGame:n=>{l.addEventListener("click",(()=>{const t=C(!0),r=(m(),C());0!==t.length&&(e.remove(),n([t,r]))}))}}},S=n=>{const e=I(n),t=v(".board:not(#currentPlayer)");t.parentNode.replaceChild(e,t)},w=(n="CPU")=>{const e={};let t=()=>{},r=()=>{};return{getName:()=>n,turn:(a,o=k())=>{for(;e[o];)o=k();const i="CPU"===n;e[o]=!0;const s=a.receiveAttack(o);return t(),r({name:n,coords:o,attack:s}),{attemptTo:o,successfully:s,byComputer:i}},bindOnPlayersChange:n=>{t=n},bindOnLogChange:n=>{r=n}}},L=()=>{const n=[],e=[];for(let e=0;e<10;e+=1){const t=[];for(let n=0;n<10;n+=1)t.push({position:`${e},${n}`});n.push(t)}const t=e=>{const[t,r]=e;return n[t][r]};return{getBoard:()=>n,getPosition:t,getMissedShots:()=>e,placeShip:n=>{const e=t(n);if(e.isShipExist)return;const r=(n=>{let e=0;return{getLength:()=>n,getNumberOfHits:()=>e,hit:()=>{e+=1},isSunk:()=>e===n}})(1);return e.shipInformation=r,e.isShipExist=!0,e},receiveAttack:n=>{const r=t(n);return r.isShipExist?(r.shipInformation.hit(),!0):(e.push(n),r.visited=!0,!1)},allSunk:()=>{const e=[];return n.forEach((n=>n.forEach((n=>{n.shipInformation&&e.push(n)})))),e.every((n=>n.shipInformation.isSunk()))}}},D=(()=>{let n=()=>{};return{bindOnAppInitGame:e=>{const{playerOne:t,playerTwo:r}=e,a=(()=>{const n=y("div","root"),e=y("h1","title");e.textContent="Battleship";const t=y("main","main"),r=y("div","log");r.textContent="Click on a square to start the game!";const a=y("div","btnContainer");return n.append(e,t,r,a),document.body.appendChild(n),{renderPlayers:n=>{Object.values(n).forEach((n=>{const e=h(n);e&&t.append(e)}))},renderBoard:S,renderLog:n=>{let e="hit :D";n.attack||(e="no ship was found >:("),r.textContent=`${n.name} made an attack at [${n.coords}] and ${e}`},renderWinner:n=>{const e=y("button","btn");r.textContent=`${n.getName()} won the game!`,e.textContent="Restart",e.id="btnReset",a.append(e)},bindSquareAttack:n=>{x("#CPU .row .cell").forEach((e=>{(n=>{n.addEventListener("mouseenter",(n=>{n.target.classList.add("position")})),n.addEventListener("mouseleave",(n=>{n.target.classList.remove("position")}))})(e),e.addEventListener("click",(e=>{const t=[Number(e.target.dataset.x),Number(e.target.dataset.y)];n(t)}))}))},bindUserRequestRestart:e=>{v("#btnReset").addEventListener("click",(()=>{n.remove(),e()}))}}})(),o=()=>n(),i=(n,e)=>!!e.board.allSunk()&&(a.renderWinner(n.player),a.bindUserRequestRestart(o),!0),s=n=>{t.player.turn(r.board,n),setTimeout((()=>{r.player.turn(t.board),((n,e)=>i(n,e)||i(e,n))(t,r)||a.bindSquareAttack(s)}),1e3)},A=()=>a.renderPlayers({playerOne:t,playerTwo:r}),d=n=>a.renderLog(n);t.player.bindOnPlayersChange(A),r.player.bindOnPlayersChange(A),t.player.bindOnLogChange(d),r.player.bindOnLogChange(d),a.renderPlayers(e),a.bindSquareAttack(s)},bindOnAppResetGame:e=>{n=e}}})(),O=w("Player"),N=w(),T={playerOne:{player:O,board:L()},playerTwo:{player:N,board:L()}};let P=E(T);const U=n=>{n[0].forEach((n=>T.playerOne.board.placeShip(n))),n[1].forEach((n=>T.playerTwo.board.placeShip(n))),D.bindOnAppInitGame(T)};P.bindStartGame(U),D.bindOnAppResetGame((()=>{T.playerOne.player=w("Player"),T.playerTwo.player=w(),T.playerOne.board=L(),T.playerTwo.board=L(),P=E(T),P.bindStartGame(U)}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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akNpQyxFQUFLRyxjQUFjSixHQUNuQkMsRUFBS1MsaUJBQWlCTSxFQUFhLEVBS25DRyxtQkFqRHdCekMsSUFDeEJvQixFQUFpQnBCLENBQVEsRUFpRDVCLEVEakRXLEdBRVY1RCxFQUFZLEVBQU8sVUFDbkJFLEVBQVksSUFLWmdGLEVBQVEsQ0FDVmxGLFVBQVcsQ0FDUGYsT0FBUWUsRUFDUm5DLE1BTlMsS0FRYnFDLFVBQVcsQ0FDUGpCLE9BQVFpQixFQUNSckMsTUFUUyxNQXFCakIsSUFBSXNILEVBQU8sRUFBZ0JELEdBRTNCLE1BQU1vQixFQUFvQkMsSUFDdEJBLEVBQWlCLEdBQUcxRixTQUFTZ0IsR0FDekJxRCxFQUFNbEYsVUFBVW5DLE1BQU11RyxVQUFVdkMsS0FHcEMwRSxFQUFpQixHQUFHMUYsU0FBU2dCLEdBQ3pCcUQsRUFBTWhGLFVBQVVyQyxNQUFNdUcsVUFBVXZDLEtBR3BDa0QsRUFBUUUsa0JBQWtCQyxFQUFNLEVBU3BDQyxFQUFLNUMsY0FBYytELEdBQ25CdkIsRUFBUXNCLG9CQVBVLEtBckJkbkIsRUFBTWxGLFVBQVVmLE9BQVMsRUFBTyxVQUNoQ2lHLEVBQU1oRixVQUFVakIsT0FBUyxJQUV6QmlHLEVBQU1sRixVQUFVbkMsTUFBUSxJQUN4QnFILEVBQU1oRixVQUFVckMsTUFBUSxJQW1CeEJzSCxFQUFPLEVBQWdCRCxHQUN2QkMsRUFBSzVDLGNBQWMrRCxFQUFpQixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9jc3Mvc3R5bGUuY3NzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvbm9uY2UiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9jc3Mvc3R5bGUuY3NzPzlmY2QiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy91dGlscy92aWV3VXRpbHMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy91dGlscy9tb2RlbFV0aWxzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvdmlldy9nYW1lU2NyZWVuUGxhY2UuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy92aWV3L2dhbWVTY3JlZW4uanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9tb2RlbC9wbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9tb2RlbC9nYW1lYm9hcmQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9tb2RlbC9zaGlwLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvY29udHJvbGxlci9nYW1lSW5pdENvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9jb250cm9sbGVyL2dhbWVDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiOnJvb3Qge1xcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICBmb250LXNpemU6IDYyLjUlO1xcbn1cXG5cXG5ib2R5IHtcXG4gICAgZm9udC1mYW1pbHk6IHN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAnU2Vnb2UgVUknLCBSb2JvdG8sIE94eWdlbiwgVWJ1bnR1LCBDYW50YXJlbGwsICdPcGVuIFNhbnMnLCAnSGVsdmV0aWNhIE5ldWUnLCBzYW5zLXNlcmlmO1xcbiAgICBtYXJnaW46IDA7XFxufVxcblxcbmltZyB7XFxuICAgIHdpZHRoOiAxMDAlO1xcbn1cXG5cXG5oMSB7XFxuICAgIG1hcmdpbjogMDtcXG59XFxuXFxucCxpbnB1dCxzcGFue1xcbiAgICBmb250LXNpemU6IDJyZW0gIWltcG9ydGFudDtcXG59XFxuXFxuLmNvbnRhaW5lckluZm8ge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAgcGFkZGluZy1ib3R0b206IDJyZW07XFxufVxcblxcbi5pbnB1dE5hbWUge1xcbiAgICBhbGwgOiB1bnNldDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0Q5RDlEOTtcXG4gICAgcGFkZGluZzogMXJlbTtcXG59XFxuXFxuLnRpdGxlIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0Q5RDlEOTtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICBmb250LXNpemU6IDIuNHJlbTtcXG4gICAgcGFkZGluZzogMnJlbTtcXG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcXG59XFxuXFxuLm1haW4ge1xcbiAgICBkaXNwbGF5OiBncmlkO1xcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgyLDFmcik7XFxuICAgIHBsYWNlLWl0ZW1zOiBzdGFydCBjZW50ZXI7XFxufVxcblxcbi5wbGF5ZXJOYW1lIHtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICBwYWRkaW5nLWJvdHRvbTogMnJlbTtcXG59XFxuXFxuLnJvdyB7XFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEwLDFmcik7XFxufVxcblxcbi5sZXR0ZXIge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHRvcDogLTIuNXJlbTtcXG4gICAgcmlnaHQ6IDM1JTtcXG59XFxuXFxuLm51bWJlciB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgYm90dG9tOiAuNXJlbTtcXG4gICAgbGVmdDogLTgwJTtcXG59XFxuXFxuLmNlbGwge1xcbiAgICB3aWR0aDogNDBweDtcXG4gICAgaGVpZ2h0OiA0MHB4O1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG4ubG9nIHtcXG4gICAgd2lkdGg6IDYwcmVtO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRDlEOUQ5O1xcbiAgICBmb250LXNpemU6IDIuMnJlbTtcXG4gICAgbWFyZ2luIDogNHJlbSBhdXRvO1xcbiAgICBwYWRkaW5nOiAxcmVtO1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgIGJvcmRlciA6IDFweCBzb2xpZCBibGFjaztcXG59XFxuXFxuLmJ1c3kge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjA4LCAyNDgsIDAuNik7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNDNTIxRkY7XFxufVxcblxcbi5wb3NpdGlvbiB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNjUsIDE2NCwgNjksMC42KTtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzEwOUUwRDtcXG59XFxuXFxuLnN1bmsge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI0OSwgMTA0LCAyMywgMC4zKTtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgI0Y5NjgxNztcXG59XFxuXFxuLnZpc2l0ZWQge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDE0MCwgMTMxLCAyNDIsIDAuNik7XFxuICAgIGJvcmRlciA6IDFweCBzb2xpZCAjMjUyMUZGO1xcbn1cXG5cXG4uYnRuQ29udGFpbmVyIHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxufVxcblxcbi5idG4ge1xcbiAgICBwYWRkaW5nOiAuNXJlbSAycmVtO1xcbiAgICBmb250LXNpemU6IDIuMnJlbTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0Q5RDlEOTtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICBib3JkZXIgOiAxcHggc29saWQgYmxhY2s7XFxufVxcblxcbi5lbGVtZW50Q29udGFpbmVyIHtcXG4gICAgbWFyZ2luIDogMnJlbSBhdXRvO1xcbiAgICB3aWR0aDogNDVyZW07XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgICBnYXA6IDJyZW07XFxuICAgIHBhZGRpbmctcmlnaHQ6IDRyZW07XFxufVxcblxcblxcbi5vcC00IHtcXG4gICAgb3BhY2l0eTogLjQ7XFxufVwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9jc3Mvc3R5bGUuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0ksc0JBQXNCO0lBQ3RCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLG1KQUFtSjtJQUNuSixTQUFTO0FBQ2I7O0FBRUE7SUFDSSxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxTQUFTO0FBQ2I7O0FBRUE7SUFDSSwwQkFBMEI7QUFDOUI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsdUJBQXVCO0lBQ3ZCLG1CQUFtQjtJQUNuQixvQkFBb0I7QUFDeEI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gseUJBQXlCO0lBQ3pCLGFBQWE7QUFDakI7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQixhQUFhO0lBQ2IseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLG9DQUFvQztJQUNwQyx5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsb0JBQW9CO0FBQ3hCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHFDQUFxQztBQUN6Qzs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osVUFBVTtBQUNkOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGFBQWE7SUFDYixVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLHVCQUF1QjtJQUN2QixrQkFBa0I7QUFDdEI7QUFDQTtJQUNJLFlBQVk7SUFDWix5QkFBeUI7SUFDekIsaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2Isa0JBQWtCO0lBQ2xCLHdCQUF3QjtBQUM1Qjs7QUFFQTtJQUNJLDBDQUEwQztJQUMxQyx5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSx1Q0FBdUM7SUFDdkMseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0kseUNBQXlDO0lBQ3pDLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLDBDQUEwQztJQUMxQywwQkFBMEI7QUFDOUI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsdUJBQXVCO0FBQzNCOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLGlCQUFpQjtJQUNqQix5QkFBeUI7SUFDekIsZUFBZTtJQUNmLHdCQUF3QjtBQUM1Qjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixTQUFTO0lBQ1QsbUJBQW1CO0FBQ3ZCOzs7QUFHQTtJQUNJLFdBQVc7QUFDZlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI6cm9vdCB7XFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgIGZvbnQtc2l6ZTogNjIuNSU7XFxufVxcblxcbmJvZHkge1xcbiAgICBmb250LWZhbWlseTogc3lzdGVtLXVpLCAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICdTZWdvZSBVSScsIFJvYm90bywgT3h5Z2VuLCBVYnVudHUsIENhbnRhcmVsbCwgJ09wZW4gU2FucycsICdIZWx2ZXRpY2EgTmV1ZScsIHNhbnMtc2VyaWY7XFxuICAgIG1hcmdpbjogMDtcXG59XFxuXFxuaW1nIHtcXG4gICAgd2lkdGg6IDEwMCU7XFxufVxcblxcbmgxIHtcXG4gICAgbWFyZ2luOiAwO1xcbn1cXG5cXG5wLGlucHV0LHNwYW57XFxuICAgIGZvbnQtc2l6ZTogMnJlbSAhaW1wb3J0YW50O1xcbn1cXG5cXG4uY29udGFpbmVySW5mbyB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICBwYWRkaW5nLWJvdHRvbTogMnJlbTtcXG59XFxuXFxuLmlucHV0TmFtZSB7XFxuICAgIGFsbCA6IHVuc2V0O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRDlEOUQ5O1xcbiAgICBwYWRkaW5nOiAxcmVtO1xcbn1cXG5cXG4udGl0bGUge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRDlEOUQ5O1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgIGZvbnQtc2l6ZTogMi40cmVtO1xcbiAgICBwYWRkaW5nOiAycmVtO1xcbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xcbn1cXG5cXG4ubWFpbiB7XFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDIsMWZyKTtcXG4gICAgcGxhY2UtaXRlbXM6IHN0YXJ0IGNlbnRlcjtcXG59XFxuXFxuLnBsYXllck5hbWUge1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgIHBhZGRpbmctYm90dG9tOiAycmVtO1xcbn1cXG5cXG4ucm93IHtcXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMTAsMWZyKTtcXG59XFxuXFxuLmxldHRlciB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgdG9wOiAtMi41cmVtO1xcbiAgICByaWdodDogMzUlO1xcbn1cXG5cXG4ubnVtYmVyIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBib3R0b206IC41cmVtO1xcbiAgICBsZWZ0OiAtODAlO1xcbn1cXG5cXG4uY2VsbCB7XFxuICAgIHdpZHRoOiA0MHB4O1xcbiAgICBoZWlnaHQ6IDQwcHg7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcbi5sb2cge1xcbiAgICB3aWR0aDogNjByZW07XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNEOUQ5RDk7XFxuICAgIGZvbnQtc2l6ZTogMi4ycmVtO1xcbiAgICBtYXJnaW4gOiA0cmVtIGF1dG87XFxuICAgIHBhZGRpbmc6IDFyZW07XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgYm9yZGVyIDogMXB4IHNvbGlkIGJsYWNrO1xcbn1cXG5cXG4uYnVzeSB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyMDgsIDI0OCwgMC42KTtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgI0M1MjFGRjtcXG59XFxuXFxuLnBvc2l0aW9uIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg2NSwgMTY0LCA2OSwwLjYpO1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjMTA5RTBEO1xcbn1cXG5cXG4uc3VuayB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjQ5LCAxMDQsIDIzLCAwLjMpO1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjRjk2ODE3O1xcbn1cXG5cXG4udmlzaXRlZCB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTQwLCAxMzEsIDI0MiwgMC42KTtcXG4gICAgYm9yZGVyIDogMXB4IHNvbGlkICMyNTIxRkY7XFxufVxcblxcbi5idG5Db250YWluZXIge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG59XFxuXFxuLmJ0biB7XFxuICAgIHBhZGRpbmc6IC41cmVtIDJyZW07XFxuICAgIGZvbnQtc2l6ZTogMi4ycmVtO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRDlEOUQ5O1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIGJvcmRlciA6IDFweCBzb2xpZCBibGFjaztcXG59XFxuXFxuLmVsZW1lbnRDb250YWluZXIge1xcbiAgICBtYXJnaW4gOiAycmVtIGF1dG87XFxuICAgIHdpZHRoOiA0NXJlbTtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgIGdhcDogMnJlbTtcXG4gICAgcGFkZGluZy1yaWdodDogNHJlbTtcXG59XFxuXFxuXFxuLm9wLTQge1xcbiAgICBvcGFjaXR5OiAuNDtcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdXBkYXRlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuICBjc3MgKz0gb2JqLmNzcztcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfVxuXG4gIC8vIEZvciBvbGQgSUVcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHt9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH1cbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsImNvbnN0IGNyZWF0ZUVsZW1lbnQgPSAodGFnLCBjbGFzc05hbWUpID0+IHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgIGlmIChjbGFzc05hbWUpIGVsZW1lbnQuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgIHJldHVybiBlbGVtZW50O1xufTtcblxuY29uc3QgY3JlYXRlQnV0dG9uID0gKHRleHQsIGNsYXNzTmFtZSkgPT4ge1xuICAgIGNvbnN0IGJ0bkNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsICdidG5Db250YWluZXInKTtcbiAgICBjb25zdCBidG4gPSBjcmVhdGVFbGVtZW50KCdidXR0b24nLCBgYnRuICR7Y2xhc3NOYW1lfWApO1xuICAgIGJ0bi50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgYnRuQ29udGFpbmVyLmFwcGVuZChidG4pO1xuICAgIHJldHVybiBidG5Db250YWluZXI7XG59O1xuXG5jb25zdCBnZXRFbGVtZW50ID0gKHNlbGVjdG9yKSA9PiB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgIHJldHVybiBlbGVtZW50O1xufTtcblxuY29uc3QgZ2V0QWxsRWxlbWVudHMgPSAoc2VsZWN0b3IpID0+IHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG59O1xuXG5jb25zdCBsZXR0ZXJzID0gWydBJywgJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJ107XG5cbmNvbnN0IGNyZWF0ZUJvYXJkID0gKGJvYXJkKSA9PiB7XG4gICAgY29uc3QgcGFyZW50ID0gY3JlYXRlRWxlbWVudCgnZGl2JywgJ2JvYXJkJyk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJvYXJkLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IGJhdHRsZVJvdyA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsICdyb3cnKTtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJvYXJkW2ldLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBjZWxsID0gY3JlYXRlRWxlbWVudCgnZGl2JywgJ2NlbGwnKTtcblxuICAgICAgICAgICAgaWYgKGJvYXJkW2ldW2pdLnNoaXBJbmZvcm1hdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChib2FyZFtpXVtqXS5zaGlwSW5mb3JtYXRpb24uaXNTdW5rKCkpXG4gICAgICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZCgnc3VuaycpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYm9hcmRbaV1bal0udmlzaXRlZCkgY2VsbC5jbGFzc0xpc3QuYWRkKCd2aXNpdGVkJyk7XG5cbiAgICAgICAgICAgIGNlbGwuZGF0YXNldC54ID0gW2ldO1xuICAgICAgICAgICAgY2VsbC5kYXRhc2V0LnkgPSBbal07XG4gICAgICAgICAgICBiYXR0bGVSb3cuYXBwZW5kKGNlbGwpO1xuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsZXR0ZXIgPSBjcmVhdGVFbGVtZW50KCdzcGFuJywgJ2xldHRlcicpO1xuICAgICAgICAgICAgICAgIGxldHRlci50ZXh0Q29udGVudCA9IGxldHRlcnNbal07XG4gICAgICAgICAgICAgICAgY2VsbC5hcHBlbmRDaGlsZChsZXR0ZXIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG51bWJlciA9IGNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCAnbnVtYmVyJyk7XG4gICAgICAgICAgICAgICAgbnVtYmVyLnRleHRDb250ZW50ID0gaSArIDE7XG4gICAgICAgICAgICAgICAgY2VsbC5hcHBlbmRDaGlsZChudW1iZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHBhcmVudC5hcHBlbmQoYmF0dGxlUm93KTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcmVudDtcbn07XG5cbmNvbnN0IGNyZWF0ZVBsYXllciA9IChwbGF5ZXIpID0+IHtcbiAgICBjb25zdCBwbGF5ZXJJbmZvID0gY3JlYXRlRWxlbWVudCgnc2VjdGlvbicsIHBsYXllci5wbGF5ZXIuZ2V0TmFtZSgpKTtcbiAgICBjb25zdCBwbGF5ZXJOYW1lID0gY3JlYXRlRWxlbWVudCgncCcsICdwbGF5ZXJOYW1lJyk7XG4gICAgcGxheWVyTmFtZS50ZXh0Q29udGVudCA9IGAke3BsYXllci5wbGF5ZXIuZ2V0TmFtZSgpfWA7XG4gICAgY29uc3QgYm9hcmQgPSBjcmVhdGVCb2FyZChwbGF5ZXIuYm9hcmQuZ2V0Qm9hcmQoKSk7XG4gICAgYm9hcmQuaWQgPSBwbGF5ZXIucGxheWVyLmdldE5hbWUoKTtcbiAgICBwbGF5ZXJJbmZvLmFwcGVuZChwbGF5ZXJOYW1lLCBib2FyZCk7XG5cbiAgICBjb25zdCBpc1RoZXJlID0gZ2V0RWxlbWVudChgc2VjdGlvbi4ke3BsYXllci5wbGF5ZXIuZ2V0TmFtZSgpfWApO1xuXG4gICAgaWYgKGlzVGhlcmUpIHtcbiAgICAgICAgaXNUaGVyZS5yZXBsYWNlV2l0aChwbGF5ZXJJbmZvKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZXR1cm4gcGxheWVySW5mbztcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBjcmVhdGVFbGVtZW50LFxuICAgIGNyZWF0ZUJ1dHRvbixcbiAgICBjcmVhdGVCb2FyZCxcbiAgICBjcmVhdGVQbGF5ZXIsXG4gICAgZ2V0RWxlbWVudCxcbiAgICBnZXRBbGxFbGVtZW50cyxcbn07XG4iLCJjb25zdCBnZW5lcmF0ZVJhbmRvbUNvb3JkcyA9ICgpID0+IHtcbiAgICBjb25zdCByb3cgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gICAgY29uc3QgY29sdW1uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xuICAgIHJldHVybiBbcm93LCBjb2x1bW5dO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZ2VuZXJhdGVSYW5kb21Db29yZHM7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1zaGFkb3cgKi9cbmltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vdXRpbHMvdmlld1V0aWxzJztcbmltcG9ydCByYW5kb21Db29yZHMgZnJvbSAnLi4vdXRpbHMvbW9kZWxVdGlscyc7XG5cbmNvbnN0IGdhbWVTY3JlZW5QbGFjZSA9IChkYXRhKSA9PiB7XG4gICAgLy8gU2V0dXAgcm9vdCBkaXZcbiAgICBjb25zdCBhcHAgPSB2aWV3VXRpbHMuY3JlYXRlRWxlbWVudCgnZGl2JywgJ3Jvb3QnKTtcblxuICAgIC8vIFRpdGxlIG9mIHRoZSBnYW1lXG4gICAgY29uc3QgdGl0bGUgPSB2aWV3VXRpbHMuY3JlYXRlRWxlbWVudCgnaDEnLCAndGl0bGUnKTtcbiAgICB0aXRsZS50ZXh0Q29udGVudCA9ICdCYXR0bGVzaGlwJztcblxuICAgIC8vIFBsYXllciBPbmUgc2VjdGlvblxuICAgIGNvbnN0IHBsYXllck9uZUNvbnRhaW5lciA9IHZpZXdVdGlscy5jcmVhdGVQbGF5ZXIoZGF0YS5wbGF5ZXJPbmUpO1xuXG4gICAgLy8gUGxheWVyIFR3byBTZWN0aW9uXG4gICAgY29uc3QgcGxheWVyVHdvQ29udGFpbmVyID0gdmlld1V0aWxzLmNyZWF0ZVBsYXllcihkYXRhLnBsYXllclR3byk7XG4gICAgcGxheWVyVHdvQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ29wLTQnKTtcblxuICAgIC8vIE1haW4gY29udGVudFxuICAgIGNvbnN0IG1haW5Db250ZW50ID0gdmlld1V0aWxzLmNyZWF0ZUVsZW1lbnQoJ21haW4nLCAnbWFpbicpO1xuICAgIG1haW5Db250ZW50LmFwcGVuZChwbGF5ZXJPbmVDb250YWluZXIsIHBsYXllclR3b0NvbnRhaW5lcik7XG5cbiAgICAvLyBBcHBlbmQgYWxsIGVsZW1lbnRzIHRvIHJvb3RcbiAgICBjb25zdCBlbGVtZW50Q29udGFpbmVyID0gdmlld1V0aWxzLmNyZWF0ZUVsZW1lbnQoJ2RpdicsICdlbGVtZW50Q29udGFpbmVyJyk7XG4gICAgY29uc3QgYnRuUmFuZG9taXNlID0gdmlld1V0aWxzLmNyZWF0ZUJ1dHRvbignUmFuZG9taXNlJywgJ2J0blJhbmRvbWlzZScpO1xuICAgIGNvbnN0IGJ0blJlc2V0ID0gdmlld1V0aWxzLmNyZWF0ZUJ1dHRvbignUmVzZXQnLCAnYnRuUmVzZXQnKTtcblxuICAgIC8vIERyYWdhYmxlIEl0ZW1cblxuICAgIGNvbnN0IGRyYWdhYmxlSXRlbSA9IHZpZXdVdGlscy5jcmVhdGVFbGVtZW50KCdkaXYnLCAnZHJhZ2FibGVFbGVtZW50Jyk7XG4gICAgZHJhZ2FibGVJdGVtLmRyYWdnYWJsZSA9IHRydWU7XG4gICAgY29uc3QgY2VsbCA9IHZpZXdVdGlscy5jcmVhdGVFbGVtZW50KCdkaXYnLCAnY2VsbCBidXN5Jyk7XG4gICAgZHJhZ2FibGVJdGVtLmFwcGVuZChjZWxsKTtcbiAgICBlbGVtZW50Q29udGFpbmVyLmFwcGVuZChidG5SYW5kb21pc2UsIGRyYWdhYmxlSXRlbSwgYnRuUmVzZXQpO1xuXG4gICAgY29uc3QgYnRuU3RhcnQgPSB2aWV3VXRpbHMuY3JlYXRlQnV0dG9uKCdTdGFydCcsICdidG5TdGFydCcpO1xuXG4gICAgY29uc3QgYnV0dG9ucyA9IFtlbGVtZW50Q29udGFpbmVyLCBidG5TdGFydF07XG5cbiAgICBhcHAuYXBwZW5kKHRpdGxlLCBtYWluQ29udGVudCwgLi4uYnV0dG9ucyk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhcHApO1xuXG4gICAgLy8gRnVuY3Rpb25zXG5cbiAgICBjb25zdCBhdHRhY2hEcmFnQ2VsbEV2ZW50ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBjZWxscyA9IHZpZXdVdGlscy5nZXRBbGxFbGVtZW50cygnLmJvYXJkOm5vdCgjQ1BVKSAucm93IC5jZWxsJyk7XG4gICAgICAgIGNlbGxzLmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgICAgICAgIGNlbGwuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmFkZCgncG9zaXRpb24nKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdwb3NpdGlvbicpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNlbGwuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuYWRkKCdidXN5Jyk7XG4gICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ3Bvc2l0aW9uJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGdlbmVyYXRlUmFuZG9tQ29vcmRzID0gKG5vdENwdSkgPT4ge1xuICAgICAgICBsZXQgZWxlbWVudCA9ICcuYm9hcmQjQ1BVJztcblxuICAgICAgICBpZiAobm90Q3B1KSBlbGVtZW50ID0gJy5ib2FyZDpub3QoI0NQVSknO1xuXG4gICAgICAgIGNvbnN0IGNlbGxzID0gdmlld1V0aWxzLmdldEFsbEVsZW1lbnRzKGAke2VsZW1lbnR9IC5yb3cgLmNlbGxgKTtcblxuICAgICAgICBjb25zdCBnZW5lcmF0ZVJhbmRvbVNoaXBzID0gKGxlbmd0aCkgPT4ge1xuICAgICAgICAgICAgbGV0IFt4LCB5XSA9IHJhbmRvbUNvb3JkcygpO1xuXG4gICAgICAgICAgICB3aGlsZSAoeCA+IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgIFt4LCB5XSA9IHJhbmRvbUNvb3JkcygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjb29yZHNHZW5lcmF0ZWQgPSBBcnJheS5mcm9tKHsgbGVuZ3RoIH0sIChfLCBpKSA9PiBbXG4gICAgICAgICAgICAgICAgeCArIGksXG4gICAgICAgICAgICAgICAgeSxcbiAgICAgICAgICAgIF0pO1xuXG4gICAgICAgICAgICBjb25zdCBjZWxsQXJyYXlzID0gQXJyYXkuZnJvbShjZWxscykuZm9yRWFjaCgoY2VsbCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvb3Jkc0NlbGwgPSBbXG4gICAgICAgICAgICAgICAgICAgIE51bWJlcihjZWxsLmRhdGFzZXQueCksXG4gICAgICAgICAgICAgICAgICAgIE51bWJlcihjZWxsLmRhdGFzZXQueSksXG4gICAgICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgY29vcmRzR2VuZXJhdGVkLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAodmFsdWUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkodmFsdWUpID09PSBKU09OLnN0cmluZ2lmeShjb29yZHNDZWxsKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZCgnYnVzeScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gY2VsbEFycmF5cztcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBnZW5lcmF0ZVBpZWNlcyA9IChwaWVjZSwgbGVuZ3RoKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBpZWNlOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZVJhbmRvbVNoaXBzKGxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZ2VuZXJhdGVQaWVjZXMoMSwgNCk7XG4gICAgICAgIGdlbmVyYXRlUGllY2VzKDIsIDMpO1xuICAgICAgICBnZW5lcmF0ZVBpZWNlcygzLCAyKTtcbiAgICAgICAgZ2VuZXJhdGVQaWVjZXMoNCwgMSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlc2V0Qm9hcmQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGJvYXJkID0gdmlld1V0aWxzLmdldEVsZW1lbnQoJy5ib2FyZDpub3QoI0NQVSknKTtcbiAgICAgICAgY29uc3QgbmV3Qm9hcmQgPSB2aWV3VXRpbHMuY3JlYXRlQm9hcmQoZGF0YS5wbGF5ZXJPbmUuYm9hcmQuZ2V0Qm9hcmQoKSk7XG4gICAgICAgIGJvYXJkLmlubmVySFRNTCA9IG5ld0JvYXJkLmlubmVySFRNTDtcbiAgICAgICAgYXR0YWNoRHJhZ0NlbGxFdmVudCgpO1xuICAgIH07XG5cbiAgICBjb25zdCBhdHRhY2hSYW5kb21pc2VDZWxsRXZlbnQgPSAoKSA9PiB7XG4gICAgICAgIGJ0blJhbmRvbWlzZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHJlc2V0Qm9hcmQoKTtcbiAgICAgICAgICAgIGdlbmVyYXRlUmFuZG9tQ29vcmRzKHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgZ2V0UG9zaXRpb25lZFNoaXBzID0gKG5vdENwdSkgPT4ge1xuICAgICAgICBsZXQgZWxlbWVudCA9ICcuYm9hcmQjQ1BVJztcblxuICAgICAgICBpZiAobm90Q3B1KSBlbGVtZW50ID0gJy5ib2FyZDpub3QoI0NQVSknO1xuXG4gICAgICAgIGNvbnN0IGNlbGxzID0gdmlld1V0aWxzLmdldEFsbEVsZW1lbnRzKGAke2VsZW1lbnR9IC5yb3cgLmNlbGxgKTtcbiAgICAgICAgY29uc3QgY2VsbHNBcnJheSA9IEFycmF5LmZyb20oY2VsbHMpO1xuICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSBjZWxsc0FycmF5XG4gICAgICAgICAgICAuZmlsdGVyKChjZWxsKSA9PiBjZWxsLmNsYXNzTGlzdC5jb250YWlucygnYnVzeScpKVxuICAgICAgICAgICAgLm1hcCgoY2VsbCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHggPSBOdW1iZXIoY2VsbC5kYXRhc2V0LngpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBOdW1iZXIoY2VsbC5kYXRhc2V0LnkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbeCwgeV07XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcG9zaXRpb25zO1xuICAgIH07XG5cbiAgICBjb25zdCBhdHRhY2hSZXNldEJ1dHRvbkV2ZW50ID0gKCkgPT4ge1xuICAgICAgICBidG5SZXNldC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlc2V0Qm9hcmQpO1xuICAgIH07XG5cbiAgICBjb25zdCBnZW5lcmF0ZVBvc2l0aW9uc0NvbXB1dGVyID0gKCkgPT4ge1xuICAgICAgICBnZW5lcmF0ZVJhbmRvbUNvb3JkcygpO1xuICAgICAgICBjb25zdCBwb3NpdGlvbnNDb21wdXRlciA9IGdldFBvc2l0aW9uZWRTaGlwcygpO1xuICAgICAgICByZXR1cm4gcG9zaXRpb25zQ29tcHV0ZXI7XG4gICAgfTtcblxuICAgIGNvbnN0IGJpbmRTdGFydEdhbWUgPSAoaGFuZGxlcikgPT4ge1xuICAgICAgICBidG5TdGFydC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uc1BsYXllciA9IGdldFBvc2l0aW9uZWRTaGlwcyh0cnVlKTtcbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uc0NvbXB1dGVyID0gZ2VuZXJhdGVQb3NpdGlvbnNDb21wdXRlcigpO1xuXG4gICAgICAgICAgICBpZiAocG9zaXRpb25zUGxheWVyLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGFwcC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSBbcG9zaXRpb25zUGxheWVyLCBwb3NpdGlvbnNDb21wdXRlcl07XG4gICAgICAgICAgICAgICAgaGFuZGxlcihwb3NpdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgYXR0YWNoRHJhZ1N0YXJ0RXZlbnQgPSAoKSA9PiB7XG4gICAgICAgIGRyYWdhYmxlSXRlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCAoKSA9PiB7fSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGluaXRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgICAgIGF0dGFjaERyYWdDZWxsRXZlbnQoKTtcblxuICAgICAgICBhdHRhY2hEcmFnU3RhcnRFdmVudCgpO1xuXG4gICAgICAgIGF0dGFjaFJhbmRvbWlzZUNlbGxFdmVudCgpO1xuXG4gICAgICAgIGF0dGFjaFJlc2V0QnV0dG9uRXZlbnQoKTtcbiAgICB9O1xuXG4gICAgaW5pdExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYmluZFN0YXJ0R2FtZSxcbiAgICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZ2FtZVNjcmVlblBsYWNlO1xuIiwiaW1wb3J0IHZpZXdVdGlscyBmcm9tICcuLi91dGlscy92aWV3VXRpbHMnO1xuXG5jb25zdCByZW5kZXJCb2FyZCA9IChib2FyZEVuZW15KSA9PiB7XG4gICAgY29uc3QgYm9hcmQgPSB2aWV3VXRpbHMuY3JlYXRlQm9hcmQoYm9hcmRFbmVteSk7XG4gICAgY29uc3QgZW5lbXlCb2FyZCA9IHZpZXdVdGlscy5nZXRFbGVtZW50KCcuYm9hcmQ6bm90KCNjdXJyZW50UGxheWVyKScpO1xuICAgIGVuZW15Qm9hcmQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoYm9hcmQsIGVuZW15Qm9hcmQpO1xufTtcblxuY29uc3QgZ2FtZVNjcmVlbiA9ICgpID0+IHtcbiAgICAvLyBTZXR1cCByb290IGRpdlxuICAgIGNvbnN0IGFwcCA9IHZpZXdVdGlscy5jcmVhdGVFbGVtZW50KCdkaXYnLCAncm9vdCcpO1xuICAgIC8vIFRpdGxlIG9mIHRoZSBnYW1lXG4gICAgY29uc3QgdGl0bGUgPSB2aWV3VXRpbHMuY3JlYXRlRWxlbWVudCgnaDEnLCAndGl0bGUnKTtcbiAgICB0aXRsZS50ZXh0Q29udGVudCA9ICdCYXR0bGVzaGlwJztcbiAgICAvLyBNYWluIGNvbnRlbnRcbiAgICBjb25zdCBtYWluQ29udGVudCA9IHZpZXdVdGlscy5jcmVhdGVFbGVtZW50KCdtYWluJywgJ21haW4nKTtcbiAgICAvLyBSZWdpc3RlciBNb3ZlbWVudHNcbiAgICBjb25zdCBsb2cgPSB2aWV3VXRpbHMuY3JlYXRlRWxlbWVudCgnZGl2JywgJ2xvZycpO1xuICAgIGxvZy50ZXh0Q29udGVudCA9ICdDbGljayBvbiBhIHNxdWFyZSB0byBzdGFydCB0aGUgZ2FtZSEnO1xuICAgIC8vIEFwcGVuZCBhbGwgZWxlbWVudHMgdG8gcm9vdFxuICAgIGNvbnN0IGJ1dHRvbiA9IHZpZXdVdGlscy5jcmVhdGVFbGVtZW50KCdkaXYnLCAnYnRuQ29udGFpbmVyJyk7XG4gICAgYXBwLmFwcGVuZCh0aXRsZSwgbWFpbkNvbnRlbnQsIGxvZywgYnV0dG9uKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFwcCk7XG5cbiAgICBjb25zdCByZW5kZXJQbGF5ZXJzID0gKG1vZGVsKSA9PiB7XG4gICAgICAgIE9iamVjdC52YWx1ZXMobW9kZWwpLmZvckVhY2goKHBsYXllcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudEV4aXN0ID0gdmlld1V0aWxzLmNyZWF0ZVBsYXllcihwbGF5ZXIpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRFeGlzdCkgbWFpbkNvbnRlbnQuYXBwZW5kKGVsZW1lbnRFeGlzdCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJMb2cgPSAoZGF0YSkgPT4ge1xuICAgICAgICBsZXQgYXR0ZW1wdCA9ICdoaXQgOkQnO1xuICAgICAgICBpZiAoIWRhdGEuYXR0YWNrKSBhdHRlbXB0ID0gJ25vIHNoaXAgd2FzIGZvdW5kID46KCc7XG4gICAgICAgIGxvZy50ZXh0Q29udGVudCA9IGAke2RhdGEubmFtZX0gbWFkZSBhbiBhdHRhY2sgYXQgWyR7ZGF0YS5jb29yZHN9XSBhbmQgJHthdHRlbXB0fWA7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlcldpbm5lciA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IGJ0blJlc2V0ID0gdmlld1V0aWxzLmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsICdidG4nKTtcbiAgICAgICAgbG9nLnRleHRDb250ZW50ID0gYCR7ZGF0YS5nZXROYW1lKCl9IHdvbiB0aGUgZ2FtZSFgO1xuICAgICAgICBidG5SZXNldC50ZXh0Q29udGVudCA9ICdSZXN0YXJ0JztcbiAgICAgICAgYnRuUmVzZXQuaWQgPSAnYnRuUmVzZXQnO1xuICAgICAgICBidXR0b24uYXBwZW5kKGJ0blJlc2V0KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaG92ZXJDZWxscyA9IChjZWxsKSA9PiB7XG4gICAgICAgIGNlbGwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdwb3NpdGlvbicpO1xuICAgICAgICB9KTtcbiAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKGUpID0+IHtcbiAgICAgICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ3Bvc2l0aW9uJyk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBiaW5kU3F1YXJlQXR0YWNrID0gKGhhbmRsZXIpID0+IHtcbiAgICAgICAgY29uc3QgY2VsbHMgPSB2aWV3VXRpbHMuZ2V0QWxsRWxlbWVudHMoJyNDUFUgLnJvdyAuY2VsbCcpO1xuXG4gICAgICAgIGNlbGxzLmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgICAgICAgIGhvdmVyQ2VsbHMoY2VsbCk7XG5cbiAgICAgICAgICAgIGNlbGwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvb3JkcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgTnVtYmVyKGUudGFyZ2V0LmRhdGFzZXQueCksXG4gICAgICAgICAgICAgICAgICAgIE51bWJlcihlLnRhcmdldC5kYXRhc2V0LnkpLFxuICAgICAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgICAgICBoYW5kbGVyKGNvb3Jkcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGJpbmRVc2VyUmVxdWVzdFJlc3RhcnQgPSAoaGFuZGxlcikgPT4ge1xuICAgICAgICBjb25zdCBidG5SZXNldCA9IHZpZXdVdGlscy5nZXRFbGVtZW50KCcjYnRuUmVzZXQnKTtcbiAgICAgICAgYnRuUmVzZXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBhcHAucmVtb3ZlKCk7XG4gICAgICAgICAgICBoYW5kbGVyKCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICByZW5kZXJQbGF5ZXJzLFxuICAgICAgICByZW5kZXJCb2FyZCxcbiAgICAgICAgcmVuZGVyTG9nLFxuICAgICAgICByZW5kZXJXaW5uZXIsXG4gICAgICAgIGJpbmRTcXVhcmVBdHRhY2ssXG4gICAgICAgIGJpbmRVc2VyUmVxdWVzdFJlc3RhcnQsXG4gICAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGdhbWVTY3JlZW47XG4iLCJpbXBvcnQgZ2VuZXJhdGVSYW5kb21Db29yZHMgZnJvbSAnLi4vdXRpbHMvbW9kZWxVdGlscyc7XG5cbmNvbnN0IFBsYXllciA9IChuYW1lID0gJ0NQVScpID0+IHtcbiAgICBjb25zdCBnZXROYW1lID0gKCkgPT4gbmFtZTtcblxuICAgIGNvbnN0IG1vdmVtZW50cyA9IHt9O1xuXG4gICAgbGV0IG9uUGxheWVyc0NoYW5nZSA9ICgpID0+IHt9O1xuXG4gICAgbGV0IG9uTG9nQ2hhbmdlID0gKCkgPT4ge307XG5cbiAgICBjb25zdCBiaW5kT25QbGF5ZXJzQ2hhbmdlID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIG9uUGxheWVyc0NoYW5nZSA9IGNhbGxiYWNrO1xuICAgIH07XG5cbiAgICBjb25zdCBiaW5kT25Mb2dDaGFuZ2UgPSAoY2FsbGJhY2spID0+IHtcbiAgICAgICAgb25Mb2dDaGFuZ2UgPSBjYWxsYmFjaztcbiAgICB9O1xuXG4gICAgY29uc3QgdHVybiA9IChib2FyZEVuZW15LCBjb29yZHMgPSBnZW5lcmF0ZVJhbmRvbUNvb3JkcygpKSA9PiB7XG4gICAgICAgIHdoaWxlIChtb3ZlbWVudHNbY29vcmRzXSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgICAgICBjb29yZHMgPSBnZW5lcmF0ZVJhbmRvbUNvb3JkcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaXNDb21wdXRlciA9IG5hbWUgPT09ICdDUFUnO1xuICAgICAgICBtb3ZlbWVudHNbY29vcmRzXSA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgYXR0YWNrID0gYm9hcmRFbmVteS5yZWNlaXZlQXR0YWNrKGNvb3Jkcyk7XG5cbiAgICAgICAgb25QbGF5ZXJzQ2hhbmdlKCk7XG4gICAgICAgIG9uTG9nQ2hhbmdlKHsgbmFtZSwgY29vcmRzLCBhdHRhY2sgfSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGF0dGVtcHRUbzogY29vcmRzLFxuICAgICAgICAgICAgc3VjY2Vzc2Z1bGx5OiBhdHRhY2ssXG4gICAgICAgICAgICBieUNvbXB1dGVyOiBpc0NvbXB1dGVyLFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBnZXROYW1lLFxuICAgICAgICB0dXJuLFxuICAgICAgICBiaW5kT25QbGF5ZXJzQ2hhbmdlLFxuICAgICAgICBiaW5kT25Mb2dDaGFuZ2UsXG4gICAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFBsYXllcjtcbiIsImltcG9ydCBTaGlwIGZyb20gJy4vc2hpcCc7XG5cbmNvbnN0IEdhbWVib2FyZCA9ICgpID0+IHtcbiAgICBjb25zdCBib2FyZCA9IFtdO1xuXG4gICAgY29uc3QgYm9hcmRTaXplID0gMTA7XG5cbiAgICBjb25zdCBtaXNzZWRTaG90cyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib2FyZFNpemU7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCByb3cgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBib2FyZFNpemU7IGogKz0gMSkge1xuICAgICAgICAgICAgcm93LnB1c2goe1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBgJHtpfSwke2p9YCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGJvYXJkLnB1c2gocm93KTtcbiAgICB9XG5cbiAgICBjb25zdCBnZXRCb2FyZCA9ICgpID0+IGJvYXJkO1xuXG4gICAgY29uc3QgZ2V0UG9zaXRpb24gPSAoY29vcmRzKSA9PiB7XG4gICAgICAgIGNvbnN0IFtyb3csIGNvbHVtbl0gPSBjb29yZHM7XG4gICAgICAgIHJldHVybiBib2FyZFtyb3ddW2NvbHVtbl07XG4gICAgfTtcblxuICAgIGNvbnN0IGdldE1pc3NlZFNob3RzID0gKCkgPT4gbWlzc2VkU2hvdHM7XG5cbiAgICBjb25zdCBwbGFjZVNoaXAgPSAoY29vcmRzKSA9PiB7XG4gICAgICAgIGNvbnN0IHNxdWFyZSA9IGdldFBvc2l0aW9uKGNvb3Jkcyk7XG4gICAgICAgIGlmIChzcXVhcmUuaXNTaGlwRXhpc3QpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAgICAgY29uc3QgbmV3U2hpcCA9IFNoaXAoMSk7XG4gICAgICAgIHNxdWFyZS5zaGlwSW5mb3JtYXRpb24gPSBuZXdTaGlwO1xuICAgICAgICBzcXVhcmUuaXNTaGlwRXhpc3QgPSB0cnVlO1xuICAgICAgICByZXR1cm4gc3F1YXJlO1xuICAgIH07XG5cbiAgICBjb25zdCByZWNlaXZlQXR0YWNrID0gKGNvb3JkcykgPT4ge1xuICAgICAgICBjb25zdCBzcXVhcmUgPSBnZXRQb3NpdGlvbihjb29yZHMpO1xuICAgICAgICBpZiAoc3F1YXJlLmlzU2hpcEV4aXN0KSB7XG4gICAgICAgICAgICBzcXVhcmUuc2hpcEluZm9ybWF0aW9uLmhpdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbWlzc2VkU2hvdHMucHVzaChjb29yZHMpO1xuICAgICAgICBzcXVhcmUudmlzaXRlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgY29uc3QgYWxsU3VuayA9ICgpID0+IHtcbiAgICAgICAgY29uc3Qgc2hpcHNJbkJvYXJkID0gW107XG4gICAgICAgIGJvYXJkLmZvckVhY2goKHJvdykgPT5cbiAgICAgICAgICAgIHJvdy5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5zaGlwSW5mb3JtYXRpb24pIHNoaXBzSW5Cb2FyZC5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBzaGlwc0luQm9hcmQuZXZlcnkoKHZhbHVlKSA9PiB2YWx1ZS5zaGlwSW5mb3JtYXRpb24uaXNTdW5rKCkpO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBnZXRCb2FyZCxcbiAgICAgICAgZ2V0UG9zaXRpb24sXG4gICAgICAgIGdldE1pc3NlZFNob3RzLFxuICAgICAgICBwbGFjZVNoaXAsXG4gICAgICAgIHJlY2VpdmVBdHRhY2ssXG4gICAgICAgIGFsbFN1bmssXG4gICAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdhbWVib2FyZDtcbiIsIi8vIFNoaXAgT2JqZWN0IDpcbi8vXG4vLyBBIHNoaXAgaGFzIHRvIGJlIGEgbGVuZ3RoIHByb3BlcnR5IChUaGlzIGluZGljYXRlIHRoZSBcImhlYWx0aFwiIG9mIHRoZSBzaGlwKS5cbi8vIEEgc2hpcCBzaG91bGQgY29udGFpbiBhIGhpdCgpIGZ1bmN0aW9uIHRoYXQgaW5jcmVhc2VzIHRoZSBudW1iZXIgb2YgaGl0cyBpbiB0aGUgc2hpcC5cbi8vIEEgc2hpcCBzaG91bGQgY29udGFpbiBpc1N1bmsoKSBmdW5jdGlvbiAsIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0cnVlIGlmIG51bWJlcnMgb2YgaGl0IGFuZCBsZW5ndGggYXJlIHRoZSBzYW1lXG5cbmNvbnN0IFNoaXAgPSAobGVuZ3RoKSA9PiB7XG4gICAgY29uc3QgZ2V0TGVuZ3RoID0gKCkgPT4gbGVuZ3RoO1xuXG4gICAgbGV0IG51bWJlck9mSGl0cyA9IDA7XG5cbiAgICBjb25zdCBnZXROdW1iZXJPZkhpdHMgPSAoKSA9PiBudW1iZXJPZkhpdHM7XG5cbiAgICBjb25zdCBoaXQgPSAoKSA9PiB7XG4gICAgICAgIG51bWJlck9mSGl0cyArPSAxO1xuICAgIH07XG5cbiAgICBjb25zdCBpc1N1bmsgPSAoKSA9PiBudW1iZXJPZkhpdHMgPT09IGxlbmd0aDtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGdldExlbmd0aCxcbiAgICAgICAgZ2V0TnVtYmVyT2ZIaXRzLFxuICAgICAgICBoaXQsXG4gICAgICAgIGlzU3VuayxcbiAgICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2hpcDtcbiIsImltcG9ydCAnLi4vY3NzL3N0eWxlLmNzcyc7XG5pbXBvcnQgZ2FtZVNjcmVlblBsYWNlIGZyb20gJy4uL3ZpZXcvZ2FtZVNjcmVlblBsYWNlJztcbmltcG9ydCBnYW1lQ29udHJvbGxlciBmcm9tICcuL2dhbWVDb250cm9sbGVyJztcbmltcG9ydCBQbGF5ZXIgZnJvbSAnLi4vbW9kZWwvcGxheWVyJztcbmltcG9ydCBHYW1lYm9hcmQgZnJvbSAnLi4vbW9kZWwvZ2FtZWJvYXJkJztcblxuY29uc3QgbmV3R2FtZSA9IGdhbWVDb250cm9sbGVyKCk7XG5cbmNvbnN0IHBsYXllck9uZSA9IFBsYXllcignUGxheWVyJyk7XG5jb25zdCBwbGF5ZXJUd28gPSBQbGF5ZXIoKTtcblxuY29uc3QgYm9hcmRPbmUgPSBHYW1lYm9hcmQoKTtcbmNvbnN0IGJvYXJkVHdvID0gR2FtZWJvYXJkKCk7XG5cbmNvbnN0IG1vZGVsID0ge1xuICAgIHBsYXllck9uZToge1xuICAgICAgICBwbGF5ZXI6IHBsYXllck9uZSxcbiAgICAgICAgYm9hcmQ6IGJvYXJkT25lLFxuICAgIH0sXG4gICAgcGxheWVyVHdvOiB7XG4gICAgICAgIHBsYXllcjogcGxheWVyVHdvLFxuICAgICAgICBib2FyZDogYm9hcmRUd28sXG4gICAgfSxcbn07XG5cbmNvbnN0IG5ld0RhdGEgPSAoKSA9PiB7XG4gICAgbW9kZWwucGxheWVyT25lLnBsYXllciA9IFBsYXllcignUGxheWVyJyk7XG4gICAgbW9kZWwucGxheWVyVHdvLnBsYXllciA9IFBsYXllcigpO1xuXG4gICAgbW9kZWwucGxheWVyT25lLmJvYXJkID0gR2FtZWJvYXJkKCk7XG4gICAgbW9kZWwucGxheWVyVHdvLmJvYXJkID0gR2FtZWJvYXJkKCk7XG59O1xuXG5sZXQgdmlldyA9IGdhbWVTY3JlZW5QbGFjZShtb2RlbCk7XG5cbmNvbnN0IHN0YXJ0R2FtZUhhbmRsZXIgPSAocG9zaXRpb25zUGxheWVycykgPT4ge1xuICAgIHBvc2l0aW9uc1BsYXllcnNbMF0uZm9yRWFjaCgodmFsdWUpID0+XG4gICAgICAgIG1vZGVsLnBsYXllck9uZS5ib2FyZC5wbGFjZVNoaXAodmFsdWUpXG4gICAgKTtcblxuICAgIHBvc2l0aW9uc1BsYXllcnNbMV0uZm9yRWFjaCgodmFsdWUpID0+XG4gICAgICAgIG1vZGVsLnBsYXllclR3by5ib2FyZC5wbGFjZVNoaXAodmFsdWUpXG4gICAgKTtcblxuICAgIG5ld0dhbWUuYmluZE9uQXBwSW5pdEdhbWUobW9kZWwpO1xufTtcblxuY29uc3QgcmVzZXRHYW1lID0gKCkgPT4ge1xuICAgIG5ld0RhdGEoKTtcbiAgICB2aWV3ID0gZ2FtZVNjcmVlblBsYWNlKG1vZGVsKTtcbiAgICB2aWV3LmJpbmRTdGFydEdhbWUoc3RhcnRHYW1lSGFuZGxlcik7XG59O1xuXG52aWV3LmJpbmRTdGFydEdhbWUoc3RhcnRHYW1lSGFuZGxlcik7XG5uZXdHYW1lLmJpbmRPbkFwcFJlc2V0R2FtZShyZXNldEdhbWUpO1xuIiwiaW1wb3J0IGdhbWVTY3JlZW4gZnJvbSAnLi4vdmlldy9nYW1lU2NyZWVuJztcblxuY29uc3QgZ2FtZUNvbnRyb2xsZXIgPSAoKSA9PiB7XG4gICAgbGV0IG9uQXBwUmVzZXRHYW1lID0gKCkgPT4ge307XG5cbiAgICBjb25zdCBiaW5kT25BcHBSZXNldEdhbWUgPSAoY2FsbGJhY2spID0+IHtcbiAgICAgICAgb25BcHBSZXNldEdhbWUgPSBjYWxsYmFjaztcbiAgICB9O1xuXG4gICAgY29uc3QgYmluZE9uQXBwSW5pdEdhbWUgPSAobW9kZWwpID0+IHtcbiAgICAgICAgY29uc3QgeyBwbGF5ZXJPbmUsIHBsYXllclR3byB9ID0gbW9kZWw7XG5cbiAgICAgICAgY29uc3QgdmlldyA9IGdhbWVTY3JlZW4oKTtcblxuICAgICAgICBjb25zdCBoYW5kbGVSZXNldCA9ICgpID0+IG9uQXBwUmVzZXRHYW1lKCk7XG5cbiAgICAgICAgY29uc3QgY2hlY2tBbmRSZW5kZXJXaW5uZXIgPSAocGxheWVyLCBvcHBvbmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKG9wcG9uZW50LmJvYXJkLmFsbFN1bmsoKSkge1xuICAgICAgICAgICAgICAgIHZpZXcucmVuZGVyV2lubmVyKHBsYXllci5wbGF5ZXIpO1xuICAgICAgICAgICAgICAgIHZpZXcuYmluZFVzZXJSZXF1ZXN0UmVzdGFydChoYW5kbGVSZXNldCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgaXNXaW5uZXIgPSAocGxheWVyLCBvcHBvbmVudCkgPT5cbiAgICAgICAgICAgIGNoZWNrQW5kUmVuZGVyV2lubmVyKHBsYXllciwgb3Bwb25lbnQpIHx8XG4gICAgICAgICAgICBjaGVja0FuZFJlbmRlcldpbm5lcihvcHBvbmVudCwgcGxheWVyKTtcblxuICAgICAgICBjb25zdCBoYW5kbGVBdHRhY2sgPSAoY29vcmRzKSA9PiB7XG4gICAgICAgICAgICBwbGF5ZXJPbmUucGxheWVyLnR1cm4ocGxheWVyVHdvLmJvYXJkLCBjb29yZHMpO1xuICAgICAgICAgICAgLy8gU2V0IHRpbWVvdXQgdG8gc2ltdWxhdGUgcmVzcG9uc2UgdG8gdGhlIG1hY2hpbmVcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHBsYXllclR3by5wbGF5ZXIudHVybihwbGF5ZXJPbmUuYm9hcmQpO1xuICAgICAgICAgICAgICAgIGlmIChpc1dpbm5lcihwbGF5ZXJPbmUsIHBsYXllclR3bykpIHJldHVybjtcbiAgICAgICAgICAgICAgICB2aWV3LmJpbmRTcXVhcmVBdHRhY2soaGFuZGxlQXR0YWNrKTtcbiAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IG9uUGxheWVyc0NoYW5nZSA9ICgpID0+XG4gICAgICAgICAgICB2aWV3LnJlbmRlclBsYXllcnMoeyBwbGF5ZXJPbmUsIHBsYXllclR3byB9KTtcbiAgICAgICAgY29uc3Qgb25Mb2dDaGFuZ2UgPSAoZGF0YSkgPT4gdmlldy5yZW5kZXJMb2coZGF0YSk7XG5cbiAgICAgICAgcGxheWVyT25lLnBsYXllci5iaW5kT25QbGF5ZXJzQ2hhbmdlKG9uUGxheWVyc0NoYW5nZSk7XG4gICAgICAgIHBsYXllclR3by5wbGF5ZXIuYmluZE9uUGxheWVyc0NoYW5nZShvblBsYXllcnNDaGFuZ2UpO1xuICAgICAgICBwbGF5ZXJPbmUucGxheWVyLmJpbmRPbkxvZ0NoYW5nZShvbkxvZ0NoYW5nZSk7XG4gICAgICAgIHBsYXllclR3by5wbGF5ZXIuYmluZE9uTG9nQ2hhbmdlKG9uTG9nQ2hhbmdlKTtcblxuICAgICAgICB2aWV3LnJlbmRlclBsYXllcnMobW9kZWwpO1xuICAgICAgICB2aWV3LmJpbmRTcXVhcmVBdHRhY2soaGFuZGxlQXR0YWNrKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYmluZE9uQXBwSW5pdEdhbWUsXG4gICAgICAgIGJpbmRPbkFwcFJlc2V0R2FtZSxcbiAgICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZ2FtZUNvbnRyb2xsZXI7XG4iXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXhCeUlkZW50aWZpZXIiLCJvYmoiLCJjc3MiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZEVsZW1lbnRTdHlsZSIsImJ5SW5kZXgiLCJzcGxpY2UiLCJhcGkiLCJkb21BUEkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwiaW5kZXgiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIm1lbW8iLCJpbnNlcnQiLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwic3R5bGVFbGVtZW50Iiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIm5jIiwidGFnIiwiY2xhc3NOYW1lIiwiZ2V0RWxlbWVudCIsInNlbGVjdG9yIiwibGV0dGVycyIsImNyZWF0ZUJvYXJkIiwiYm9hcmQiLCJwYXJlbnQiLCJiYXR0bGVSb3ciLCJqIiwiY2VsbCIsInNoaXBJbmZvcm1hdGlvbiIsImlzU3VuayIsImNsYXNzTGlzdCIsImFkZCIsInZpc2l0ZWQiLCJkYXRhc2V0IiwieCIsInkiLCJhcHBlbmQiLCJsZXR0ZXIiLCJ0ZXh0Q29udGVudCIsIm51bWJlciIsInRleHQiLCJidG5Db250YWluZXIiLCJidG4iLCJwbGF5ZXIiLCJwbGF5ZXJJbmZvIiwiZ2V0TmFtZSIsInBsYXllck5hbWUiLCJnZXRCb2FyZCIsImlzVGhlcmUiLCJyZXBsYWNlV2l0aCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJhcHAiLCJ2aWV3VXRpbHMiLCJ0aXRsZSIsInBsYXllck9uZUNvbnRhaW5lciIsInBsYXllck9uZSIsInBsYXllclR3b0NvbnRhaW5lciIsInBsYXllclR3byIsIm1haW5Db250ZW50IiwiZWxlbWVudENvbnRhaW5lciIsImJ0blJhbmRvbWlzZSIsImJ0blJlc2V0IiwiZHJhZ2FibGVJdGVtIiwiZHJhZ2dhYmxlIiwiYnRuU3RhcnQiLCJidXR0b25zIiwiYm9keSIsImF0dGFjaERyYWdDZWxsRXZlbnQiLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsInByZXZlbnREZWZhdWx0IiwiY3VycmVudFRhcmdldCIsImdlbmVyYXRlUmFuZG9tQ29vcmRzIiwibm90Q3B1IiwiY2VsbHMiLCJnZW5lcmF0ZVJhbmRvbVNoaXBzIiwiY29vcmRzR2VuZXJhdGVkIiwiQXJyYXkiLCJmcm9tIiwiXyIsImNlbGxBcnJheXMiLCJjb29yZHNDZWxsIiwiTnVtYmVyIiwic29tZSIsInZhbHVlIiwiZ2VuZXJhdGVQaWVjZXMiLCJwaWVjZSIsInJlc2V0Qm9hcmQiLCJuZXdCb2FyZCIsImlubmVySFRNTCIsImdldFBvc2l0aW9uZWRTaGlwcyIsInBvc2l0aW9ucyIsImZpbHRlciIsImNvbnRhaW5zIiwiYmluZFN0YXJ0R2FtZSIsImhhbmRsZXIiLCJwb3NpdGlvbnNQbGF5ZXIiLCJwb3NpdGlvbnNDb21wdXRlciIsInJlbmRlckJvYXJkIiwiYm9hcmRFbmVteSIsImVuZW15Qm9hcmQiLCJyZXBsYWNlQ2hpbGQiLCJuYW1lIiwibW92ZW1lbnRzIiwib25QbGF5ZXJzQ2hhbmdlIiwib25Mb2dDaGFuZ2UiLCJ0dXJuIiwiY29vcmRzIiwiaXNDb21wdXRlciIsImF0dGFjayIsInJlY2VpdmVBdHRhY2siLCJhdHRlbXB0VG8iLCJzdWNjZXNzZnVsbHkiLCJieUNvbXB1dGVyIiwiYmluZE9uUGxheWVyc0NoYW5nZSIsImNhbGxiYWNrIiwiYmluZE9uTG9nQ2hhbmdlIiwibWlzc2VkU2hvdHMiLCJyb3ciLCJwb3NpdGlvbiIsImdldFBvc2l0aW9uIiwiY29sdW1uIiwiZ2V0TWlzc2VkU2hvdHMiLCJwbGFjZVNoaXAiLCJzcXVhcmUiLCJpc1NoaXBFeGlzdCIsIm5ld1NoaXAiLCJudW1iZXJPZkhpdHMiLCJnZXRMZW5ndGgiLCJnZXROdW1iZXJPZkhpdHMiLCJoaXQiLCJhbGxTdW5rIiwic2hpcHNJbkJvYXJkIiwiZXZlcnkiLCJuZXdHYW1lIiwib25BcHBSZXNldEdhbWUiLCJiaW5kT25BcHBJbml0R2FtZSIsIm1vZGVsIiwidmlldyIsImxvZyIsImJ1dHRvbiIsInJlbmRlclBsYXllcnMiLCJ2YWx1ZXMiLCJlbGVtZW50RXhpc3QiLCJyZW5kZXJMb2ciLCJhdHRlbXB0IiwicmVuZGVyV2lubmVyIiwiYmluZFNxdWFyZUF0dGFjayIsImhvdmVyQ2VsbHMiLCJiaW5kVXNlclJlcXVlc3RSZXN0YXJ0IiwiaGFuZGxlUmVzZXQiLCJjaGVja0FuZFJlbmRlcldpbm5lciIsIm9wcG9uZW50IiwiaGFuZGxlQXR0YWNrIiwic2V0VGltZW91dCIsImlzV2lubmVyIiwiYmluZE9uQXBwUmVzZXRHYW1lIiwic3RhcnRHYW1lSGFuZGxlciIsInBvc2l0aW9uc1BsYXllcnMiXSwic291cmNlUm9vdCI6IiJ9